(ns factorial-recursion.factorial-test
  (:require [clojure.test :refer :all]
            [factorial-recursion.factorial :refer :all]))

(deftest a-test
  (testing "canary test"
    (is (= 1 1))))

(deftest factorial-test-pass-1
  (testing "factorial pass 1 return 1"
    (is (= 1 (factorial_recursion 1)))))

(deftest factorial-test-pass-0
  (testing "factorial pass 0 return 1"
    (is (= 1 (factorial_recursion 0)))))

(deftest factorial-test-negative-number
  (testing "factorial pass negative number return error"
    (is (thrown? Exception (factorial_recursion -1)))))

(deftest factorial-test-pass-2
  (testing "factorial pass 2 return 2"
    (is (= 2 (factorial_recursion 2)))))

(deftest factorial-test-pass-3
  (testing "factorial pass 3 return 6"
    (is (= 6 (factorial_recursion 3)))))

(deftest factorial-test-pass-500
  (testing "factorial pass 500 return large int"
    (is (= 1220136825991110068701238785423046926253574342803192842192413588385845373153881997605496447502203281863013616477148203584163378722078177200480785205159329285477907571939330603772960859086270429174547882424912726344305670173270769461062802310452644218878789465754777149863494367781037644274033827365397471386477878495438489595537537990423241061271326984327745715546309977202781014561081188373709531016356324432987029563896628911658974769572087926928871281780070265174507768410719624390394322536422605234945850129918571501248706961568141625359056693423813008856249246891564126775654481886506593847951775360894005745238940335798476363944905313062323749066445048824665075946735862074637925184200459369692981022263971952597190945217823331756934581508552332820762820023402626907898342451712006207714640979456116127629145951237229913340169552363850942885592018727433795173014586357570828355780158735432768888680120399882384702151467605445407663535984174430480128938313896881639487469658817504506926365338175055478128640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000N (factorial_recursion 500)))))

(deftest factorial-test-stack-overflow
  (testing "factorial stack overflow"
    (is (thrown? StackOverflowError (factorial_recursion 100000)))))

(deftest tail-recursion-factorial-test-pass-0
  (testing "factorial pass 0 return 1"
    (is (= 1 (tail_factorial_recursion 0)))))

(deftest tail-recursion-factorial-test-pass-1
  (testing "factorial pass 1 return 1"
    (is (= 1 (tail_factorial_recursion 1)))))

(deftest tail-recursion-factorial-test-pass-negative
  (testing "factorial pass negative number return error"
    (is (thrown? Exception (tail_factorial_recursion -1)))))

(deftest tail-recursion-factorial-test-pass-2
  (testing "factorial pass 2 return 2"
    (is (= 2 (tail_factorial_recursion 2)))))

(deftest tail-recursion-factorial-test-pass-3
  (testing "factorial pass 3 return 6"
    (is (= 6 (tail_factorial_recursion 3)))))

(deftest tail-recursion-factorial-test-pass-500
  (testing "factorial pass 500 return large int"
    (is (= 1220136825991110068701238785423046926253574342803192842192413588385845373153881997605496447502203281863013616477148203584163378722078177200480785205159329285477907571939330603772960859086270429174547882424912726344305670173270769461062802310452644218878789465754777149863494367781037644274033827365397471386477878495438489595537537990423241061271326984327745715546309977202781014561081188373709531016356324432987029563896628911658974769572087926928871281780070265174507768410719624390394322536422605234945850129918571501248706961568141625359056693423813008856249246891564126775654481886506593847951775360894005745238940335798476363944905313062323749066445048824665075946735862074637925184200459369692981022263971952597190945217823331756934581508552332820762820023402626907898342451712006207714640979456116127629145951237229913340169552363850942885592018727433795173014586357570828355780158735432768888680120399882384702151467605445407663535984174430480128938313896881639487469658817504506926365338175055478128640000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000N (tail_factorial_recursion 500)))))

(deftest tail-recursion-factorial-test-pass-large-int-no-error
  (testing "factorial pass 100,000 return no error"
    (tail_factorial_recursion 100000)))